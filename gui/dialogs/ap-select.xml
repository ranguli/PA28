<?xml version="1.0" encoding="UTF-8" ?>

<!-- autopilot dialog selector -->
<!-- Copyright (c) 2020 Sascha ReiÃŸner (WoodSTokk) -->

<PropertyList>

	<name>autopilot</name>
	<width>150</width>
	<height>25</height>
	<text>
		<halign>middle</halign>
		<label>Autopilot loaded</label>
	</text>

	<nasal>
		<open>
			var ap = getprop("/options/autopilot");
			if (ap == "KAP140") {
				fgcommand("dialog-show", props.Node.new({"dialog-name": "autopilot-kap140"}));
			}
			else if (ap == "S-TEC-55X") {
				fgcommand("dialog-show", props.Node.new({"dialog-name": "autopilot-stec55x"}));
			}
			var dialog = props.Node.new( { "dialog-name" : "autopilot" } );
			settimer( func{ fgcommand("dialog-close", dialog); }, 0.01);
		</open>
	</nasal>

</PropertyList>
